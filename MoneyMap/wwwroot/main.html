<!--    Main Page: Current Finance month breakdown

    Monthly budget allowance and current balance

    Quick add option for purchase/withdraw

    Quick add option for deposit

    Quick list of monthly expenses/saving goals -->

<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.5/dist/css/bootstrap.min.css" rel="stylesheet">
    <title>Home Mage</title>
    <script>
    async function loadFinances() { // this part doesnt work yet. needs functionality added.
        const response = await fetch('/api/Finance');
        const finances = await response.json();

        const tableBody = document.getElementById('financeTableBody');
        finances.forEach(finance => { // for each row in the array
            const row = `
                <tr>
                    <td>${finance.finPurch}</td>
                    <td>${finance.finWithd}</td>
                    <td>${finance.finDep}</td>
                    <td>${finance.finGoal}</td>
                </tr>
            `;
            tableBody.innerHTML += row;
        });
    }

        window.onload = loadFinances;
    </script>
</head>
<body>
    <nav class="navbar navbar-expand-lg bg-body-tertiary">
        <div class="container-fluid">
            <a class="navbar-brand" href="home.html">MoneyMap</a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarScroll" aria-controls="navbarScroll" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarScroll">
                <ul class="navbar-nav me-auto my-2 my-lg-0 navbar-nav-scroll" style="--bs-scroll-height: 100px;">
                    <li class="nav-item">
                        <a class="nav-link" href="userSettings.html">User Settings</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="currentFinanceGrid.html">Current Finance Grid</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="debt.html">Debt</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="budgetPlan.html">Budget Plan</a>
                    </li>
                </ul>
                <ul class="navbar-nav ms-auto">
                    <li class="nav-item">
                        <a class="nav-link" href="loginPage.html" id="loginBtn">Login</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="registerPage.html" id="regBtn0">Register</a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>
    <div class="container">
        <div class="jumbotron">
            <h1 class="display-3">Current Finance Month Breakdown</h1>
            <hr />
            <table class="table table-striped">
                <thead>
                    <tr>
                        <!-- ah the cart (the table) /ref-->
                        <th>Purchases</th>
                        <th>Withdrawals</th>
                        <th>Deposits</th>
                        <th>Saving Goal
                        <th>
                    </tr>
                </thead>
                <tbody id="financeTableBody">
                </tbody>
            </table>
        </div>
    </div>
</body>
</html>